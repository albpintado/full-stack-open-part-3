(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{41:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t(15),o=t.n(r),u=t(3),a=t(0),s=function(e){var n=e.persons,t=e.deleteFunction;return Object(a.jsx)("div",{children:n.map((function(e){return Object(a.jsxs)("p",{children:[e.name," ",Object(a.jsx)("span",{children:"-"})," ",Object(a.jsxs)("span",{children:[e.number," "]}),Object(a.jsx)("button",{onClick:function(){return t(e)},children:"Delete"})]},e.name)}))})},i=function(e){return Object(a.jsx)("h2",{children:e.text})},l=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:e.text,children:"Search name "}),Object(a.jsx)("input",{name:e.text,onChange:e.function})]})},j=function(e){return Object(a.jsxs)("form",{children:[Object(a.jsx)("label",{htmlFor:"name",children:"Name "}),Object(a.jsx)("input",{name:"name",onChange:e.functionOne,value:e.valueOne}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"number",children:"Number "}),Object(a.jsx)("input",{name:"number",onChange:e.functionTwo,value:e.valueTwo}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{onClick:e.functionThree,children:"Add"})]})},b=function(e){var n=e.message;return null===n.text?null:Object(a.jsx)("div",{className:n.class,children:n.text})},f=t(6),d=t.n(f),h=t(16),O=t(4),x=t.n(O),m="/api/persons",p={getAll:function(){var e=Object(h.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(m);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addPerson:function(e){x.a.post(m,e)},deletePerson:function(e){x.a.delete("".concat(m,"/").concat(e))},updatePhone:function(e,n,t){return x.a.put("".concat(m,"/").concat(e),{name:n,number:t}).then((function(e){return e.data}))}},v=(t(41),function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],o=Object(c.useState)([]),f=Object(u.a)(o,2),d=f[0],h=f[1],O=Object(c.useState)(""),x=Object(u.a)(O,2),m=x[0],v=x[1],w=Object(c.useState)(""),g=Object(u.a)(w,2),k=g[0],A=g[1],T=Object(c.useState)({text:null,class:""}),C=Object(u.a)(T,2),P=C[0],S=C[1];Object(c.useEffect)((function(){p.getAll().then((function(e){return r(e)}))}),[]),Object(c.useEffect)((function(){return h(t)}),[t]);var F=function(){return t.find((function(e){return e.name===m}))},y=function(){var e=t.find((function(e){return e.name===m}));p.updatePhone(e.id,m,k).catch((function(){S({text:"Information of ".concat(m," has already been removed from server"),class:"error"}),setTimeout((function(){S({text:null,class:""})}),3e3)})),p.getAll().then((function(e){return r(e)}))};return Object(a.jsxs)("div",{children:[Object(a.jsx)(i,{text:"Phonebook"}),Object(a.jsx)(l,{text:"search",function:function(e){var n=t.filter((function(n){return n.name.toLowerCase().indexOf(e.target.value.toLowerCase())>=0}));h(n)}}),Object(a.jsx)(i,{text:"Add a new one"}),Object(a.jsx)(b,{message:P}),Object(a.jsx)(j,{functionOne:function(e){return v(e.target.value)},valueOne:m,functionTwo:function(e){return A(e.target.value)},valueTwo:k,functionThree:function(e){e.preventDefault(),F()?window.confirm("".concat(m," is already added to the phonebook, replace the old number with the new one?"))&&y():(p.addPerson({name:m,number:k}),p.getAll().then((function(e){return r(e)})).then((function(){S({text:"Added ".concat(m),class:"info"}),setTimeout((function(){S({text:null,class:""})}),3e3)})),v(""),A(""))}}),Object(a.jsx)(i,{text:"Numbers"}),Object(a.jsx)(s,{persons:d,deleteFunction:function(e){window.confirm("Delete ".concat(e.name,"?"))&&p.deletePerson(e.id),p.getAll().then((function(e){return r(e)}))}})]})});o.a.render(Object(a.jsx)(v,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.bf93b6e2.chunk.js.map