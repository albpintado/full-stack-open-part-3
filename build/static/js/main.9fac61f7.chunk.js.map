{"version":3,"sources":["components/Persons.js","components/HeaderOne.js","components/HeaderTwo.js","components/Search.js","components/Form.js","components/Notification.js","services/personService.js","App.js","index.js"],"names":["Persons","persons","deleteFunction","map","person","className","name","number","onClick","HeaderOne","props","text","HeaderTwo","Search","onSubmit","event","preventDefault","htmlFor","onChange","function","placeholder","Form","functionOne","value","valueOne","functionTwo","valueTwo","functionThree","Notification","message","class","baseUrl","personService","getAll","axios","get","then","response","data","addPerson","post","deletePerson","personId","delete","updatePhone","personName","personNumber","put","App","useState","setPersons","matchedPersons","setMatchedPersons","newName","setNewName","newNumber","setNewNumber","setMessage","useEffect","initialPersons","catch","error","console","log","isNameAlreadyAdded","find","updateNumber","id","setTimeout","personsFiltered","filter","toLowerCase","indexOf","target","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9fac61f7.chunk.js","sourcesContent":["const Persons = ({ persons, deleteFunction }) => {\n  return (\n    <div>\n      {persons.map((person) => (\n        <article key={person.name} className=\"person-card\">\n          <p className=\"person-text\">\n        {person.name} - {person.number}\n          </p>\n        <button onClick={() => deleteFunction(person)}>Delete</button>\n        </article>\n      ))}\n    </div>\n  );\n};\n\nexport default Persons;\n","const HeaderOne = (props) => <h1>{props.text}</h1>;\n\nexport default HeaderOne;\n","const HeaderTwo = (props) => <h2>{props.text}</h2>;\n\nexport default HeaderTwo;\n","const Search = (props) => (\n  <form onSubmit={(event) => event.preventDefault()} className=\"search-form\">\n    <label htmlFor={props.text}>Search name</label>\n    <input\n      name={props.text}\n      onChange={props.function}\n      placeholder=\"Search for an entry\"\n      className=\"search-input\"  \n    />\n  </form>\n);\n\nexport default Search;\n","const Form = (props) => (\n  <form className=\"create-form\">\n    <label htmlFor=\"name\">Name </label>\n    <input\n    name=\"name\"\n    onChange={props.functionOne}\n    value={props.valueOne}\n    placeholder=\"Enter a name\"\n    />\n    <label htmlFor=\"number\">Number </label>\n    <input\n    name=\"number\"\n    onChange={props.functionTwo}\n    value={props.valueTwo}\n    placeholder=\"Enter a number\"\n    />\n    <button onClick={props.functionThree}>Add</button>\n  </form>\n);\n\nexport default Form;\n","const Notification = ({ message }) => {\n  if (message.text === null) {\n    return null;\n  }\n\n  return <div className={message.class}>{message.text}</div>;\n};\n\nexport default Notification;\n","import axios from \"axios\";\n// Dev env\n// const baseUrl = \"http://localhost:3001/api/persons\";\n\n// Prod env\nconst baseUrl = \"https://cryptic-river-73645.herokuapp.com/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst addPerson = (person) => {\n  axios.post(baseUrl, person);\n  return;\n};\n\nconst deletePerson = (personId) => {\n  axios.delete(`${baseUrl}/${personId}`);\n  return;\n};\n\nconst updatePhone = (personId, personName, personNumber) => {\n  const request = axios.put(`${baseUrl}/${personId}`, {\n    name: personName,\n    number: personNumber,\n  });\n  return request.then((response) => response.data);\n};\n\nconst personService = { getAll, addPerson, deletePerson, updatePhone };\n\nexport default personService;\n","import React, { useEffect, useState } from \"react\";\nimport Persons from \"./components/Persons\";\nimport HeaderOne from \"./components/HeaderOne\";\nimport HeaderTwo from \"./components/HeaderTwo\";\nimport Search from \"./components/Search\";\nimport Form from \"./components/Form\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./services/personService\";\nimport \"./App.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [matchedPersons, setMatchedPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [message, setMessage] = useState({\n    text: null,\n    class: \"\",\n  });\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => setPersons(initialPersons)).catch((error) => console.log(\"Error: \", error.message));\n  }, []);\n\n  useEffect(() => setMatchedPersons(persons), [persons]);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    if (isNameAlreadyAdded()) {\n      if (\n        window.confirm(\n          `${newName} is already added to the phonebook, replace the old number with the new one?`\n        )\n      ) {\n        updateNumber();\n      }\n      return;\n    }\n    personService.addPerson({ name: newName, number: newNumber });\n    personService\n      .getAll()\n      .then((initialPersons) => setPersons(initialPersons))\n      .then(() => {\n        setMessage({\n          text: `Added ${newName}`,\n          class: \"info\",\n        });\n        setTimeout(() => {\n          setMessage({\n            text: null,\n            class: \"\",\n          });\n        }, 3000);\n      });\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const deletePerson = (person) => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService.deletePerson(person.id);\n    }\n    personService.getAll().then((initialPersons) => setPersons(initialPersons));\n  };\n\n  const isNameAlreadyAdded = () =>\n    persons.find((person) => person.name === newName);\n\n  const updateNumber = () => {\n    const person = persons.find((person) => person.name === newName);\n    personService.updatePhone(person.id, newName, newNumber).catch(() => {\n      setMessage({\n        text: `Information of ${newName} has already been removed from server`,\n        class: \"error\",\n      });\n      setTimeout(() => {\n        setMessage({\n          text: null,\n          class: \"\",\n        });\n      }, 3000);\n    });\n    personService.getAll().then((initialPersons) => setPersons(initialPersons));\n  };\n\n  const nameHandler = (event) => setNewName(event.target.value);\n  const numberHandler = (event) => setNewNumber(event.target.value);\n\n  const personsHandler = (event) => {\n    const personsFiltered = persons.filter(\n      (person) =>\n        person.name.toLowerCase().indexOf(event.target.value.toLowerCase()) >= 0\n    );\n    setMatchedPersons(personsFiltered);\n  };\n\n  return (\n    <>\n      <header>\n        <HeaderOne text=\"Phonebook\" />\n        <Search text=\"search\" function={personsHandler} />\n      </header>\n      <HeaderTwo text=\"Add a person to phonebook\" />\n      <Notification message={message} />\n      <Form\n        functionOne={nameHandler}\n        valueOne={newName}\n        functionTwo={numberHandler}\n        valueTwo={newNumber}\n        functionThree={addPerson}\n      />\n      <HeaderTwo text=\"Persons in phonebook\" />\n      <Persons persons={matchedPersons} deleteFunction={deletePerson} />\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}