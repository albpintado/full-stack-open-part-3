(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n(15),o=n.n(r),u=n(3),a=n(0),i=function(e){var t=e.persons,n=e.deleteFunction;return Object(a.jsx)("div",{children:t.map((function(e){return Object(a.jsxs)("p",{children:[e.name," ",Object(a.jsx)("span",{children:"-"})," ",Object(a.jsxs)("span",{children:[e.number," "]}),Object(a.jsx)("button",{onClick:function(){return n(e)},children:"Delete"})]},e.name)}))})},s=function(e){return Object(a.jsx)("h2",{children:e.text})},l=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:e.text,children:"Search name "}),Object(a.jsx)("input",{name:e.text,onChange:e.function})]})},j=function(e){return Object(a.jsxs)("form",{children:[Object(a.jsx)("label",{htmlFor:"name",children:"Name "}),Object(a.jsx)("input",{name:"name",onChange:e.functionOne,value:e.valueOne}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"number",children:"Number "}),Object(a.jsx)("input",{name:"number",onChange:e.functionTwo,value:e.valueTwo}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{onClick:e.functionThree,children:"Add"})]})},b=function(e){var t=e.message;return null===t.text?null:Object(a.jsx)("div",{className:t.class,children:t.text})},f=n(6),d=n.n(f),h=n(16),O=n(4),x=n.n(O),m="https://cryptic-river-73645.herokuapp.com/api/persons",p={getAll:function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(m);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addPerson:function(e){x.a.post(m,e)},deletePerson:function(e){x.a.delete("".concat(m,"/").concat(e))},updatePhone:function(e,t,n){return x.a.put("".concat(m,"/").concat(e),{name:t,number:n}).then((function(e){return e.data}))}},v=(n(41),function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)([]),f=Object(u.a)(o,2),d=f[0],h=f[1],O=Object(c.useState)(""),x=Object(u.a)(O,2),m=x[0],v=x[1],w=Object(c.useState)(""),g=Object(u.a)(w,2),k=g[0],A=g[1],T=Object(c.useState)({text:null,class:""}),C=Object(u.a)(T,2),P=C[0],S=C[1];Object(c.useEffect)((function(){p.getAll().then((function(e){return r(e)}))}),[]),Object(c.useEffect)((function(){return h(n)}),[n]);var y=function(){return n.find((function(e){return e.name===m}))},F=function(){var e=n.find((function(e){return e.name===m}));p.updatePhone(e.id,m,k).catch((function(){S({text:"Information of ".concat(m," has already been removed from server"),class:"error"}),setTimeout((function(){S({text:null,class:""})}),3e3)})),p.getAll().then((function(e){return r(e)}))};return Object(a.jsxs)("div",{children:[Object(a.jsx)(s,{text:"Phonebook"}),Object(a.jsx)(l,{text:"search",function:function(e){var t=n.filter((function(t){return t.name.toLowerCase().indexOf(e.target.value.toLowerCase())>=0}));h(t)}}),Object(a.jsx)(s,{text:"Add a new one"}),Object(a.jsx)(b,{message:P}),Object(a.jsx)(j,{functionOne:function(e){return v(e.target.value)},valueOne:m,functionTwo:function(e){return A(e.target.value)},valueTwo:k,functionThree:function(e){e.preventDefault(),y()?window.confirm("".concat(m," is already added to the phonebook, replace the old number with the new one?"))&&F():(p.addPerson({name:m,number:k}),p.getAll().then((function(e){return r(e)})).then((function(){S({text:"Added ".concat(m),class:"info"}),setTimeout((function(){S({text:null,class:""})}),3e3)})),v(""),A(""))}}),Object(a.jsx)(s,{text:"Numbers"}),Object(a.jsx)(i,{persons:d,deleteFunction:function(e){window.confirm("Delete ".concat(e.name,"?"))&&p.deletePerson(e.id),p.getAll().then((function(e){return r(e)}))}})]})});o.a.render(Object(a.jsx)(v,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.4cf09dee.chunk.js.map