(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{41:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t(16),o=t.n(r),a=t(17),u=t(3),s=t(0),i=function(e){var n=e.persons,t=e.deleteFunction;return Object(s.jsx)("div",{children:n.map((function(e){return Object(s.jsxs)("article",{className:"person-card",children:[Object(s.jsxs)("p",{className:"person-text",children:[e.name," - ",e.number]}),Object(s.jsx)("button",{onClick:function(){return t(e)},children:"Delete"})]},e.name)}))})},l=function(e){return Object(s.jsx)("h1",{children:e.text})},f=function(e){return Object(s.jsx)("h2",{children:e.text})},j=function(e){return Object(s.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"search-form",children:[Object(s.jsx)("label",{htmlFor:e.text,children:"Search name"}),Object(s.jsx)("input",{name:e.text,onChange:e.function,placeholder:"Search for an entry",className:"search-input"})]})},b=function(e){return Object(s.jsxs)("form",{className:"create-form",children:[Object(s.jsx)("label",{htmlFor:"name",children:"Name "}),Object(s.jsx)("input",{name:"name",onChange:e.functionOne,value:e.valueOne,placeholder:"Enter a name"}),Object(s.jsx)("label",{htmlFor:"number",children:"Number "}),Object(s.jsx)("input",{name:"number",onChange:e.functionTwo,value:e.valueTwo,placeholder:"Enter a number"}),Object(s.jsx)("button",{onClick:e.functionThree,children:"Add"})]})},d=function(e){var n=e.message;return null===n.text?null:Object(s.jsx)("div",{className:n.class,children:n.text})},h=t(5),m=t.n(h),O="https://cryptic-river-73645.herokuapp.com/api/persons",x={getAll:function(){return m.a.get(O).then((function(e){return e.data}))},addPerson:function(e){m.a.post(O,e)},deletePerson:function(e){m.a.delete("".concat(O,"/").concat(e))},updatePhone:function(e,n,t){return m.a.put("".concat(O,"/").concat(e),{name:n,number:t}).then((function(e){return e.data}))}},p=(t(41),function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],o=Object(c.useState)([]),h=Object(u.a)(o,2),m=h[0],O=h[1],p=Object(c.useState)(""),v=Object(u.a)(p,2),g=v[0],w=v[1],k=Object(c.useState)(""),N=Object(u.a)(k,2),P=N[0],S=N[1],T=Object(c.useState)({text:null,class:""}),A=Object(u.a)(T,2),C=A[0],E=A[1];Object(c.useEffect)((function(){x.getAll().then((function(e){return r(e)})).catch((function(e){return console.log("Error: ",e.message)}))}),[]),Object(c.useEffect)((function(){return O(t)}),[t]);var F=function(){return t.find((function(e){return e.name===g}))},y=function(){var e=t.find((function(e){return e.name===g}));x.updatePhone(e.id,g,P).catch((function(){E({text:"Information of ".concat(g," has already been removed from server"),class:"error"}),setTimeout((function(){E({text:null,class:""})}),3e3)})),x.getAll().then((function(e){return r(e)}))};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("header",{children:[Object(s.jsx)(l,{text:"Phonebook"}),Object(s.jsx)(j,{text:"search",function:function(e){var n=t.filter((function(n){return n.name.toLowerCase().indexOf(e.target.value.toLowerCase())>=0}));O(n)}})]}),Object(s.jsx)(f,{text:"Add a person to phonebook"}),Object(s.jsx)(d,{message:C}),Object(s.jsx)(b,{functionOne:function(e){return w(e.target.value)},valueOne:g,functionTwo:function(e){return S(e.target.value)},valueTwo:P,functionThree:function(e){e.preventDefault(),F()?window.confirm("".concat(g," is already added to the phonebook, replace the old number with the new one?"))&&y():(x.addPerson({name:g,number:P}),r([].concat(Object(a.a)(t),[{name:g,number:P}])),E({text:"Added ".concat(g),class:"info"}),setTimeout((function(){E({text:null,class:""})}),3e3),w(""),S(""))}}),Object(s.jsx)(f,{text:"Persons in phonebook"}),Object(s.jsx)(i,{persons:m,deleteFunction:function(e){window.confirm("Delete ".concat(e.name,"?"))&&x.deletePerson(e.id),x.getAll().then((function(e){return r(e)}))}})]})});o.a.render(Object(s.jsx)(p,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.0719fda1.chunk.js.map